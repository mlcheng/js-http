!function(t){"use strict";function n(){this.head=null,this.tail=null;var t=this;return{enqueue:function(n){null===t.head?(t.head=n,t.tail=n):(n.prev=t.tail,t.tail.next=n,t.tail=n)},dequeue:function(){if(t.head){var n=t.head;return t.head.next.prev=null,t.head=t.head.next,n.next=null,n}return null},promote:function(n){t.tail!==n&&(t.head===n?(t.head.next.prev=null,t.head=t.head.next):(n.prev.next=n.next,n.next.prev=n.prev),n.prev=t.tail,n.next=null,t.tail.next=n,t.tail=n)},export:function(){for(var n=t.head,e=[];n;)e.push(n.value),n=n.next;return e}}}var e,r=function(){function t(t){this.prev=null,this.next=null,this.value=t}return{Cache:function(e){var r={},o={};function u(){o.lru=new n,o.map={}}return u(),r.add=function(n,r){if(o.map.hasOwnProperty(n)){var u=o.map[n];u.value.value=r,o.lru.promote(u)}else{if(Object.keys(o.map).length+1>e){var a=o.lru.dequeue();delete o.map[a.value.key]}var i=new t({key:n,value:r});o.lru.enqueue(i),o.map[n]=i}},r.get=function(t){var n=o;if(n.map.hasOwnProperty(t))return n.lru.promote(n.map[t]),n.map[t].value.value},r.valueExists=function(t){return Object.keys(o.map).some((function(n){return o.map[n].value.value===t}))},r.keys=function(){return Object.keys(o.map)},r.values=function(){var t=o.map;return Object.keys(t).map((function(n){return t[n].value.value}))},r.export=function(){return o.lru.export()},r.purge=function(){u()},r}}}(),o=(e=new r.Cache(30),{request:function(t){var n="get",r="post",o="put",u="delete",a=200,i={},s={};function c(t,r,o){var u,c=new XMLHttpRequest;if(t===n?(r=function(t,n){if(!n)return t;var e=t+"?",r=0;for(var o in n)n.hasOwnProperty(o)&&(r++&&(e+="&"),e+=encodeURIComponent(o)+"="+encodeURIComponent(n[o]));return e}(r,o),u=null):o&&(u=new FormData,Object.keys(o).forEach((function(t){u.append(t,o[t])}))),t===n){var l=e.get(r);if(null!=l)return"function"==typeof i.onLoad?i.onLoad(l):Promise.resolve(l)}return"function"==typeof i.onLoadStart&&(c.onloadstart=function(){i.onLoadStart(this.readyState)}),"function"==typeof i.onProgress&&(c.upload.onprogress=function(t){i.onProgress(t)}),new Promise((function(o,l){"function"==typeof i.onError&&(c.onerror=function(){i.onError(this.status),l(this.status)}),c.onload=function(){s.cache&&t===n&&e.add(r,this.response),"function"==typeof i.onLoad&&(this.status===a?i.onLoad(this.response):"function"==typeof i.onError&&i.onError(this.status)),this.status===a?o(this.response):l(this.status)},c.open(t,r,!0),c.send(u)}))}return{cache:function(){return s.cache=!0,this},begin:function(t){return i.onLoadStart=t,this},progress:function(t){return i.onProgress=t,this},success:function(t){return i.onLoad=t,this},error:function(t){return i.onError=t,this},get:function(e){return c(n,t,e)},post:function(n){return c(r,t,n)},put:function(n){return c(o,t,n)},delete:function(n){return c(u,t,n)}}}});window.$http||(window.$http=o.request),t.http=o}(this.iqwerty=this.iqwerty||{});

"use strict";function $http(n){function t(n,t,r){var e,u=200,s=new XMLHttpRequest;"get"===n?(t=function(n,t){if(!t)return n;var o=n+"?",r=0;for(var e in t)t.hasOwnProperty(e)&&(r++&&(o+="&"),o+=encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return o}(t,r),e=null):(e=new FormData,Object.keys(r).forEach(function(n){e.append(n,r[n])})),"function"==typeof o.onLoadStart&&(s.onloadstart=function(n){o.onLoadStart(this.readyState)}),"function"==typeof o.onProgress&&(s.upload.onprogress=function(n){o.onProgress(n)}),"function"==typeof o.onError&&(s.onerror=function(n){o.onError(this.status)}),s.onload=function(n){"function"==typeof o.onLoad&&(this.status===u?o.onLoad(this.response):"function"==typeof o.onError&&o.onError(this.status)),s=null,e=null,o=null},s.open(n,t,!0),s.send(e)}var o={};return{begin:function(n){return o.onLoadStart=n,this},progress:function(n){return o.onProgress=n,this},success:function(n){return o.onLoad=n,this},error:function(n){return o.onError=n,this},get:function(o){return t("get",n,o)},post:function(o){return t("post",n,o)},put:function(o){return t("put",n,o)},"delete":function(o){return t("delete",n,o)}}}